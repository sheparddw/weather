(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{26:function(t,e,n){},27:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(19),c=n.n(o),s=(n(26),n(20)),r=n(8),d=n(9),l=n(13),h=n(12),u=n(11),v=n(2),j=function(){function t(){Object(r.a)(this,t)}return Object(d.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,{method:"GET",headers:e})}},{key:"post",value:function(t,e,n){var a=JSON.stringify(n);return fetch(t,{method:"POST",headers:e,body:a})}},{key:"delete",value:function(t,e,n){var a=JSON.stringify(n);return fetch(t,{method:"DELETE",headers:e,body:a})}},{key:"put",value:function(t,e,n){var a=JSON.stringify(n);return fetch(t,{method:"PUT",headers:e,body:a})}}]),t}(),f=n.p+"static/media/cloud.06df75af.svg",b=(n(27),n(1)),p=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={coordinates:a.props.coordinates},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(t){var e=this;this.setState({coordinates:t},(function(){e.saveCoordinates();var n={coordinates:t};e.props.handleSettingsChange(n)}))}},{key:"saveCoordinates",value:function(){window.localStorage.setItem("coordinates",this.state.coordinates)}},{key:"render",value:function(){var t=this,e=this.state.coordinates;return Object(b.jsxs)("div",{className:"Settings",children:[Object(b.jsx)(u.b,{to:"/",children:"<-"}),Object(b.jsx)("h1",{children:"Settings"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){var e="45.5051,-122.6750";t.setState({coordinates:e},(function(){t.handleChange(e)}))},children:"Use Default"}),Object(b.jsx)("h2",{children:"Coordinates:"}),"Todo: add a map here.",Object(b.jsx)("input",{id:"coordinates",value:e,onChange:function(e){var n=e.target.value;t.setState({coordinates:n},(function(){t.handleChange(n)}))}})]})]})}}]),n}(a.Component),g=(n(34),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var a;Object(r.a)(this,n),a=e.call(this,t);var i=window.localStorage.getItem("coordinates")||"45.5051,-122.6750";return a.state={coordinates:i,overviewData:!1,forecastData:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getForecast()}},{key:"componentDidUpdate",value:function(){}},{key:"getForecast",value:function(){var t=this,e=this.state.coordinates;this.callApi("https://api.weather.gov/points/".concat(e),"overviewData").then((function(e){var n,a;return t.callApi(null===(n=t.state.overviewData)||void 0===n||null===(a=n.properties)||void 0===a?void 0:a.forecast,"forecastData")}))}},{key:"callApi",value:function(t,e){var n=this;return(new j).get(t,[]).then((function(t){if(t.ok)return t.json().then((function(t){return n.setState(Object(s.a)({},e,t))}))}))}},{key:"handleSettingsChange",value:function(t){var e=this,n=null===t||void 0===t?void 0:t.coordinates;if(n)return this.setState({coordinates:n},(function(){e.getForecast()}))}},{key:"app",value:function(){var t,e,n,a,i,o,c=this.state.overviewData,s=null===c||void 0===c||null===(t=c.properties)||void 0===t||null===(e=t.relativeLocation)||void 0===e||null===(n=e.properties)||void 0===n?void 0:n.city,r=null===(a=this.state.forecastData)||void 0===a||null===(i=a.properties)||void 0===i||null===(o=i.periods)||void 0===o?void 0:o[0],d="".concat(null===r||void 0===r?void 0:r.name,": ").concat(null===r||void 0===r?void 0:r.detailedForecast),l=(null===r||void 0===r?void 0:r.icon)||f;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(u.b,{to:"/settings",children:"Settings"}),Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)("img",{src:l,className:"icon",alt:"logo"})}),s&&Object(b.jsx)("div",{className:"city",children:Object(b.jsx)("h2",{children:s})}),r&&Object(b.jsx)("div",{className:"report",children:d}),!(null===r||void 0===r?void 0:r.icon)&&Object(b.jsxs)("div",{className:"attributions",children:["Icons made by ",Object(b.jsx)("a",{href:"https://www.flaticon.com/authors/smashicons",title:"Smashicons",children:"Smashicons"})," from ",Object(b.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})}},{key:"render",value:function(){return Object(b.jsx)(u.a,{basename:"/weather",children:Object(b.jsxs)(v.c,{children:[Object(b.jsx)(v.a,{path:"/settings",children:Object(b.jsx)(p,{handleSettingsChange:this.handleSettingsChange.bind(this),coordinates:this.state.coordinates})}),Object(b.jsx)(v.a,{path:"/",children:this.app()})]})})}}]),n}(a.Component)),O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),o(t),c(t)}))};c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),O()}},[[35,1,2]]]);
//# sourceMappingURL=main.c39de5cd.chunk.js.map